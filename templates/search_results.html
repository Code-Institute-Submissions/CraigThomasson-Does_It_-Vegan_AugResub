{% extends "base.html" %}

{% block content %}

<div class="container">
    <div class="row">
        <h1>Restaurants</h1>
        <!-- search bar will load seach page with search results -->
        <form action="{% url 'search_results' %}" method="get">
            <input name="q" type="text" placeholder="Search...">
        </form>
        
        {% if restaurant_list %}
            {% for restaurant in restaurant_list %}
                <div class="col">
                    <div class="card">
                      <h2>{{restaurant.name|striptags}}</h2>
                      <p>description: {{restaurant.description|striptags}}</p>
                      <p>town/city: {{restaurant.townCity|striptags}}</p>
                      <a href="{% url 'restaurant_detail' restaurant.pk %}"><button type="button" class="btn btn-primary">view</button></a>
                 </div>

                </div>
            {% endfor %}
        {% else %}
            {% if user.is_authenticated %}
                <a href="{% url 'add_restauraunt' %}"><button type="button" class="btn btn-primary">add restaurant</button></a>
            {% else %}
                <p>there are no cities or restaurants that match your search on our system please try again or <a class="nav-link" href="{% url 'login' %}">login</a></p> to add a restaurant</p>
            {% endif %}
        {% endif %}
        </div>
    </div>

{% endblock %}